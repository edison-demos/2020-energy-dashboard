(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{250:function(t,r,e){var content=e(399);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(68).default)("5a711978",content,!0,{sourceMap:!1})},398:function(t,r,e){"use strict";var n=e(250);e.n(n).a},399:function(t,r,e){(r=e(67)(!1)).push([t.i,".my-card[data-v-641d7617]{margin:10px 0;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}",""]),t.exports=r},425:function(t,r,e){"use strict";e.r(r);e(66),e(51),e(60),e(32),e(33),e(14),e(11),e(12),e(10),e(13),e(86),e(25);var n=e(1),o=(e(61),e(22)),c=e(74);function l(t,r){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return f(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==e.return||e.return()}finally{if(l)throw o}}}}function f(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,e=new Array(r);i<r;i++)e[i]=t[i];return e}function h(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(r){Object(n.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}var d={mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var e,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.get("errors/light-max-2-month",{params:{id:15}});case 2:e=r.sent,data=e.data,t.monthErrors=data;case 5:case"end":return r.stop()}}),r)})))()},computed:m(m({},Object(c.b)(["regions","status","gears"])),{},{errorRows:function(){var t=this;return this.regions.map((function(r,e){return t.errorParse(r,e)})).flat()}}),data:function(){return{monthErrors:[],tFields:[{key:"region",label:"區域"},{key:"message",label:"即時狀態"},{key:"monthError",label:"過去60天異常"}]}},methods:{gotoAna:function(t){console.log(t),this.$router.push({path:"/lightAnalysis",hash:"#".concat(t.ridx,",").concat(t.gid)})},errorParse:function(t,r){var e,n=this,o=t.name,c=t.gears,f=[],h=l(c);try{var m=function(){var t=e.value,r=t.id,o=t.display_name,c=n.status[r];if(!c)return"continue";var l=n.monthErrors.find((function(t){return t.gear_id===r}));console.log(l,r),l&&f.push({name:o,gid:r,message:"blaaa~"});for(var h=0,m=["control_gear_under_voltage_count","control_gear_over_voltage_count","control_gear_output_power_limit_count","control_gear_thermal_deration_count","control_gear_thermal_shutdown_count","light_source_open_count","light_source_short_count","light_source_thermal_deration_count","light_source_thermal_shutdown_count"];h<m.length;h++){var d=m[h];c[d]>0&&f.push({name:o,gid:r,message:"".concat(d,": ").concat(c[d])})}var _=n.status[r].device_status;_%2&&f.push({name:o,gid:r,message:"無法偵測"}),(_>>=1)%2&&f.push({name:o,gid:r,message:"燈炮錯誤"}),(_>>=2)%2&&f.push({name:o,gid:r,message:"輸出亮度錯誤"}),(_>>=3)%2&&f.push({name:o,gid:r,message:"未定址"}),(_>>=1)%2&&f.push({name:o,gid:r,message:"曾電力失效"})};for(h.s();!(e=h.n()).done;)m()}catch(t){h.e(t)}finally{h.f()}return f.forEach((function(t){t.ridx=r,t.region=o,t.message="".concat(t.name," (").concat(t.message,")")})),f}}},_=(e(398),e(50)),component=Object(_.a)(d,(function(){var t=this.$createElement,r=this._self._c||t;return r("b-row",[r("b-col",[r("h1",[this._v("異常報告")]),r("div",[r("b-table",{attrs:{striped:"",hover:"",items:this.errorRows,fields:this.tFields},on:{"row-clicked":this.gotoAna}})],1)])],1)}),[],!1,null,"641d7617",null);r.default=component.exports}}]);